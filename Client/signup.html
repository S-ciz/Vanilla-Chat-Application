<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--Global Styles -->
    <link rel="stylesheet" href="./Pages/global.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="./Pages/Auth/SignIn/Signin.css">
    <title>Chat | Sign-in</title>
</head>
<body>
    

    
    <div class='sign-in'>
          
      
        <form   id='sign-in' >
          <h2 style=" display: grid; color: var(--blue-dark); place-content: center; place-items: center;" ><i class="fa fa-user fa-2x"></i></h2>

          <h2 style="display: flex; place-content: center; place-items: center;" >Create new account</h2>
          <label >Select your avatar</label>
            
          <div>  <my-avatar /> </div> 
              
              <div class='alert-msg'></div>
            <label>Cell Number</label>
            <input type="text" class="tel" placeholder='0734543234'  name='tel'  />
             
            
            <label>Username</label>
            <input  type="text" class="username" placeholder='stanisani...' name='username' />
              
           
            <div class="form-additions">

            <section style="display: flex; place-content: center; place-items: center; gap: 1rem; " >
            
            </section>

            <section>
                <a href='./Signin.html'> or Sign in</a>
            </section>
            </div>  
            
            <button class="btn-submit">Create account</button>
          
        </form>
         
        <script src="./Utility/Utility.js"></script>
        <script src="./Api/Api.js"></script>
        <script src="./Components/Avatars.js"></script>
        <script>

const form = document.querySelector('form#sign-in')
const cell = form.querySelector('input.tel')
const name = form.querySelector('input.username')

form.addEventListener('submit', e=>{
  e.preventDefault();
  const form = document.querySelector('form#sign-in');
  const cellNumber =  form.querySelector('input.tel');
  const UserName = form.querySelector('input.username');
  
  //check if values are present
  if(cellNumber.value && UserName.value )
  {   
    
   //register user
   const obj = 
      {
        name: UserName.value,
        surname: '',
        cell: cellNumber.value, 
        status: 'Hi, I am using whatsapp',
        active: 'offline',
        img: sessionStorage.getItem('avatar'),
        chats_cell: [],
      }

     registerUser(obj)
     //output messge
     outputMessage('User successfully registered')

     window.location.pathname = 'signin.html'

    //clearfields
    UserName.value = ''
    cellNumber.value = ''
  } 
  
  
  else 
  {  
   outputMessage("Please enter all fields!!!", 'var(--red)', 2000)
  }
     
} ) 

//click avatar functinality

        </script>
</body>
</html>